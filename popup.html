<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PricePulse</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <header class="header">
            <div class="logo-container">
                <div class="pulse-icon">
                    <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M4 16H8L12 8L20 24L24 16H28" stroke="url(#gradient)" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <defs>
                            <linearGradient id="gradient" x1="4" y1="16" x2="28" y2="16">
                                <stop offset="0%" stop-color="#667eea"/>
                                <stop offset="100%" stop-color="#764ba2"/>
                            </linearGradient>
                        </defs>
                    </svg>
                </div>
                <h1 class="logo-text">PricePulse</h1>
            </div>
            <button class="settings-btn" id="settingsBtn" title="Settings">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path d="M10 12.5C11.3807 12.5 12.5 11.3807 12.5 10C12.5 8.61929 11.3807 7.5 10 7.5C8.61929 7.5 7.5 8.61929 7.5 10C7.5 11.3807 8.61929 12.5 10 12.5Z" stroke="currentColor" stroke-width="1.5"/>
                    <path d="M16.25 10C16.25 10.625 16.75 11.125 17.375 11.125C17.75 11.125 18.125 11.375 18.25 11.75L18.5 12.5C18.625 12.875 18.5 13.25 18.25 13.5L17.875 13.875C17.375 14.375 17.375 15.125 17.875 15.625L18.25 16C18.5 16.25 18.625 16.625 18.5 17L18.25 17.75C18.125 18.125 17.75 18.375 17.375 18.375C16.75 18.375 16.25 18.875 16.25 19.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                </svg>
            </button>
        </header>

        <!-- Stats Cards -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon watching">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M12 5C8.24 5 5.04 7.14 3.5 10.5C5.04 13.86 8.24 16 12 16C15.76 16 18.96 13.86 20.5 10.5C18.96 7.14 15.76 5 12 5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        <circle cx="12" cy="10.5" r="2.5" stroke="currentColor" stroke-width="2"/>
                    </svg>
                </div>
                <div class="stat-info">
                    <div class="stat-value" id="watchingCount">0</div>
                    <div class="stat-label">Watching</div>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon drops">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M12 3L8 9H16L12 3Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M12 21C15.866 21 19 17.866 19 14C19 10.134 12 3 12 3C12 3 5 10.134 5 14C5 17.866 8.13401 21 12 21Z" stroke="currentColor" stroke-width="2"/>
                    </svg>
                </div>
                <div class="stat-info">
                    <div class="stat-value" id="dropsCount">0</div>
                    <div class="stat-label">Price Drops</div>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon saved">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <div class="stat-info">
                    <div class="stat-value" id="savedAmount">$0</div>
                    <div class="stat-label">Total Saved</div>
                </div>
            </div>
        </div>

        <!-- Current Page Section -->
        <div class="current-page-section" id="currentPageSection">
            <div class="section-header">
                <h2>Current Page</h2>
                <div class="auto-detect-badge" id="autoDetectBadge">
                    <span class="badge-dot"></span>
                    Auto-detecting...
                </div>
            </div>
            <div class="current-page-card" id="currentPageCard">
                <div class="page-info">
                    <div class="page-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M3 6h18M3 12h18M3 18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </div>
                    <div class="page-details">
                        <div class="page-title" id="pageTitle">Loading...</div>
                        <div class="page-url" id="pageUrl">...</div>
                    </div>
                </div>
                <div class="price-display" id="priceDisplay">
                    <div class="price-label">Detected Price</div>
                    <div class="price-value" id="detectedPrice">--</div>
                </div>
                <div class="action-buttons">
                    <button class="btn btn-primary" id="trackBtn">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                            <path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        Track This Price
                    </button>
                    <button class="btn btn-secondary" id="refreshBtn">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                            <path d="M23 4v6h-6M1 20v-6h6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0020.49 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- Tracked Items Section -->
        <div class="tracked-section">
            <div class="section-header">
                <h2>Tracked Items</h2>
                <button class="filter-btn" id="filterBtn">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                        <path d="M3 6h18M7 12h10M11 18h2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    Filter
                </button>
            </div>

            <!-- Filter Options (Hidden by default) -->
            <div class="filter-options hidden" id="filterOptions">
                <button class="filter-chip active" data-filter="all">All</button>
                <button class="filter-chip" data-filter="dropped">Price Dropped</button>
                <button class="filter-chip" data-filter="increased">Price Increased</button>
                <button class="filter-chip" data-filter="stable">Stable</button>
            </div>

            <!-- Empty State -->
            <div class="empty-state" id="emptyState">
                <div class="empty-icon">
                    <svg width="64" height="64" viewBox="0 0 64 64" fill="none">
                        <circle cx="32" cy="32" r="30" stroke="currentColor" stroke-width="2" stroke-dasharray="4 4"/>
                        <path d="M32 20v24M20 32h24" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </div>
                <h3>No items tracked yet</h3>
                <p>Start tracking prices on your favorite products to see them here</p>
            </div>

            <!-- Tracked Items List -->
            <div class="tracked-list" id="trackedList">
                <!-- Items will be dynamically inserted here -->
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <button class="footer-btn" id="clearAllBtn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                    <path d="M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6M8 6V4a2 2 0 012-2h4a2 2 0 012 2v2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Clear All
            </button>
            <button class="footer-btn" id="exportBtn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                    <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5-5 5 5M12 5v12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Export Data
            </button>
        </footer>
    </div>

    <!-- Toast Notification -->
    <div class="toast hidden" id="toast">
        <div class="toast-icon"></div>
        <div class="toast-message"></div>
    </div>

    <script src="storage.js"></script>
    <script src="popup.js"></script>
</body>
</html>
